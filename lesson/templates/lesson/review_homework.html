{% extends 'base.html' %}
{% load static %}

{% block content %}
{% if messages %}
<div class="alert-box">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}
<div class="container mt-4">
    <h2>Просмотр работы студента</h2>
    <div class="card">
        <div class="card-header">
            Задание
        </div>
        <div class="card-body">
            <p class="card-text">{{ submission.homework.task }}</p>
        </div>
    </div>
    <div class="card mt-4">
        <div class="card-header">
            Ответ студента
        </div>
        <div class="card-body">
            <p class="card-text">{{ submission.answer }}</p>
        </div>
    </div>
    <form method="post" action="{% url 'grade_homework' submission.id %}">
        {% csrf_token %}
        <div class="mt-4">
            <label for="gradeSelect">Оценка</label>
            <select class="form-select" id="gradeSelect" name="grade">
                {% for value, display in form.fields.grade.choices %}
                <option value="{{ value }}">{{ display }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mt-4">
            <label for="feedbackTextarea">Комментарий</label>
            <textarea class="form-control" id="feedbackTextarea" name="feedback" rows="3"></textarea>
        </div>
        <div class="mt-4">
            <button type="submit" class="btn btn-primary">Оценить работу</button>
        </div>
    </form>
</div>
{% endblock %}