# LMS-system
Проект имеет две логики: django + templates и DRF
База данных - PostgreSQL
Это сделано в связи с отсутсвием frontend разработичка.
Стек проекта: django, drf, postresql, docker, docker-compose, celery, redis, aiogram, pytest
Деплой проекта в докер контейнере с celery & redis на VPS сервере http://31.129.106.81:8001/

# ОПИСАНИЕ ПРОЕКТА И ИСПОЛЬЗОВАННЫЕ РЕШЕНИЯ.
# Приложение account - отвечает за авторизацию и регистрацию пользователей
Django + templates: 
- авторизация/регистрация реализована с помощью стандартных инструментов 'django.contrib.auth.urls'
- функция custom_redirect создана для правильного редиректа, так как в проекте имеется три разных типа пользователей (студент, учитель, менеджер)
- переписана функция регистрации для автомотического создания профиля (студент, учитель, менеджер) при создании User. Также реализован логин для редиректа на персональную страницу.
- добавлена возможность сборса пароля по почте и отправка письма при регистрации (почтовый сервер SendGrid) *при тестировании вне защиты, может не работать. Короткий срок жизни API от SendGrid
- на отправку почты реализован celery task
- в формах рализована форма регистрации для соответсвия полям профилей. Также форма для сброса пароля.
- в фалйе test_account.py тесты на базе pytest
- в templates приложения базовый шаблон.
DRF:
- в сериализаторе реализована логика получения jwt токена сразу при регистрации а так же заполнение профиля
- для авторизации/регистрации использовался djoser
# Приложение config - корневое приложение проекта
- swagger храниться в нём
# Приложение courses - отвечает за логику курсов
Django + templates: 
- в представлениях реализована функция get_user_profile для соблюдения принципа DRY
- реаизованы функции по добавлению коментариев, рейтинга, и записи на курсы (через тг бота и модальное окно)
- модели реализованы достаточно просто, модель курса имеет функцию расчёта среднего рейтинга. Коменты и рейтинг связаны с курсом через ForigenKey
- в фалйе test_course.py тесты на базе pytest
DRF:
- представления реализованы через ViewSet и кастомные Permissions
- в сериалайзера добавлена функция подсчета среднего рейтигна
# Приложение forum - отвечает за логику вкладки лабаратория ну или просто форум
- тут ничего нового, только ккастомные Permissions в API логике
# Приложение lesson - отвечает за логику уроков и домашних заданий
Django + templates: 
- логика моделей: курсы дляться 9 месяцев, в каждом месяце 4 недели, в каждой недели 5 дней. Все связаны по Forigenkey.
- логика моделей: уроки связаны ManyToMany со студентами через таблицу Progress. Домашние задания связанны с уроками. Выполненные домашние задания связанны со студентом и домашним заданием по ForeignKey
- логика моделей: Прогресс - таблица ManyToMany студента и урока.
- в представлениях рализована отметка о прохождении урока, сдачи домашнего задания, оценимания домашнего задания преподавателем, и отображения статуса оценивания для перподавателя.
- в шаблонках реализована логика разграничений прав, в том числе возможность преподавателя загружиать видео к урокам и редактировать сами уроки.
DRF:
- реализованны кастомные Permissions
# Приложение library - отвечает за логику библиотеки
- добавлена возможность скачивания книг
# Приложение profiles - отвечает за логику профилей пользователей
Django + templates: 
- в моделях пользователи наследуются от абстракного класса и имеют свзяь OneToOneField с базовой моделью User
- так же рализована функция get_upload_name, для более удобной записи имени файла для фото при загрузке
- в представлениях реализован кастомный миксин для определения профиля (роли) пользователя, а также для отправки личных сообщений со страницы профиля.и поддержания принципа DRY
- так же использовался встроенный миксин LoginRequiredMixin
- реализована логика редактирования профиля на странице пользователя через модальное окно и форму
- так же длястудента реализована логика получения данных об успеваемости через получение контекста и функции.
- в фалйе test_profiles.py тесты на базе pytest
DRF:
- реализованны кастомные Permissions
# Приложение tg_bot - тг бот с функцией перенаправления запроса на обучение в групповой чат
# Приложение user_messages - реализует логику внутреннего чата
Django + templates: 
- модель связанна с базовым классом User, чтобы в представлении можно было идентифицировать тип профиля.
- get_user_profile для соблюдения принципа DRY
- добавлял логер, так как было много проблем с этим приложением.
DRF:
- в дальнейшем планирую реализацию через веб-сокеты
